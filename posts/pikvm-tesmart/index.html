<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="PiKVM with TESmart KVM Fixed!" /><meta property="og:locale" content="en" /><meta name="description" content="After many hours and testing, swapping, resetting, and EDID training, all of my PiKVM and TESmart issues were solved with with a simple, cheap dongle. If you aren’t aware of the struggles I faced when using the PiKVM with a TESmart switch, all of it is detailed in a previous post where I ended up settling on another switch altogether. That’s all changed now with a simple EDID emulator passthrough adapter (affiliate link). However, for the uninformed, I’ll summarize the symptoms I experienced with the PiKVM and TESmart KVM and how I was able to fix these issues." /><meta property="og:description" content="After many hours and testing, swapping, resetting, and EDID training, all of my PiKVM and TESmart issues were solved with with a simple, cheap dongle. If you aren’t aware of the struggles I faced when using the PiKVM with a TESmart switch, all of it is detailed in a previous post where I ended up settling on another switch altogether. That’s all changed now with a simple EDID emulator passthrough adapter (affiliate link). However, for the uninformed, I’ll summarize the symptoms I experienced with the PiKVM and TESmart KVM and how I was able to fix these issues." /><link rel="canonical" href="https://technotim.live/posts/pikvm-tesmart/" /><meta property="og:url" content="https://technotim.live/posts/pikvm-tesmart/" /><meta property="og:site_name" content="Techno Tim" /><meta property="og:image" content="https://technotim.live/assets/img/headers/pikvm-v4-tesmart-hero.webp" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-01-19T07:00:00-06:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://technotim.live/assets/img/headers/pikvm-v4-tesmart-hero.webp" /><meta property="twitter:title" content="PiKVM with TESmart KVM Fixed!" /><meta name="twitter:site" content="@technotimlive" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-02-22T15:37:27-06:00","datePublished":"2024-01-19T07:00:00-06:00","description":"After many hours and testing, swapping, resetting, and EDID training, all of my PiKVM and TESmart issues were solved with with a simple, cheap dongle. If you aren’t aware of the struggles I faced when using the PiKVM with a TESmart switch, all of it is detailed in a previous post where I ended up settling on another switch altogether. That’s all changed now with a simple EDID emulator passthrough adapter (affiliate link). However, for the uninformed, I’ll summarize the symptoms I experienced with the PiKVM and TESmart KVM and how I was able to fix these issues.","headline":"PiKVM with TESmart KVM Fixed!","image":{"lqip":"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAUACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AP5dv2F7zwz8dvCXhn9lfx38IvhF4p8O33iz4keIdK8ceLrX4s3fjbwn4h134ZeHfD8+reHG8EfGL4d+Hg+nW/hrQdU0mz13QtcsG13Tln1+38QaNI+g1w5hmlXDUneEaqp+zVOLaiotv2d37sm7KKuk4320O/LcppYyqrVJUnOVX2jtzuShF1rR96Cim5NK6lZu+uqf5mav4Nt7XVtUtorry4rfUb2COOOB/LSOK5ljRE866nm2KqhV82eaXaB5ksjZc9EajaTstUn96OWVO0mr7Nrbs/U//9k=","url":"https://technotim.live/assets/img/headers/pikvm-v4-tesmart-hero.webp","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://technotim.live/posts/pikvm-tesmart/"},"url":"https://technotim.live/posts/pikvm-tesmart/"}</script><title>PiKVM with TESmart KVM Fixed! | Techno Tim</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Techno Tim"><meta name="application-name" content="Techno Tim"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="preconnect" href="https://cdnjs.cloudflare.com" ><link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="https://avatars.githubusercontent.com/u/1322205?s=400&u=5b4f2219006577dc0426007fe5a02391c4899677&v=4" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a><h1 class="site-title"> <a href="/">Techno Tim</a></h1><p class="site-subtitle fst-italic mb-0">Engineer. Builder. Creator. | From Code to Cloud</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/shop/" class="nav-link"> <i class="fa-fw fas fa-bag-shopping"></i> <span>MERCH</span> </a><li class="nav-item"> <a href="/sponsor/" class="nav-link"> <i class="fa-fw fas fa-handshake"></i> <span>SPONSOR</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://l.technotim.live/links" aria-label="links" target="_blank" rel="noopener noreferrer" > <i class="fa-solid fa-link"></i> </a> <a href="https://twitter.com/technotimlive" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="https://l.technotim.live/github" aria-label="github-custom" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>PiKVM with TESmart KVM Fixed!</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>PiKVM with TESmart KVM Fixed!</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1705669200" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jan 19, 2024 </time> </span> <span> Updated <time data-ts="1708637847" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 22, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/assets/img/headers/pikvm-v4-tesmart-hero.webp" class="popup img-link preview-img blur"><img data-src="/assets/img/headers/pikvm-v4-tesmart-hero.webp" alt="Preview Image" width="1200" height="630" data-lqip="true" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAUACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AP5dv2F7zwz8dvCXhn9lfx38IvhF4p8O33iz4keIdK8ceLrX4s3fjbwn4h134ZeHfD8+reHG8EfGL4d+Hg+nW/hrQdU0mz13QtcsG13Tln1+38QaNI+g1w5hmlXDUneEaqp+zVOLaiotv2d37sm7KKuk4320O/LcppYyqrVJUnOVX2jtzuShF1rR96Cim5NK6lZu+uqf5mav4Nt7XVtUtorry4rfUb2COOOB/LSOK5ljRE866nm2KqhV82eaXaB5ksjZc9EajaTstUn96OWVO0mr7Nrbs/U//9k="></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://l.technotim.live/twitter">Techno Tim</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2217 words" > <em>12 min</em> read</span></div></div></header><div class="content"><p>After many hours and testing, swapping, resetting, and EDID training, all of my PiKVM and TESmart issues were solved with with a simple, cheap dongle. If you aren’t aware of the struggles I faced when using the PiKVM with a TESmart switch, all of it is detailed <a href="/posts/pikvm-at-scale/">in a previous post</a> where I ended up settling on another switch altogether. That’s all changed now with a simple <a href="https://amzn.to/3tQp04Z">EDID emulator passthrough adapter</a> (affiliate link). However, for the uninformed, I’ll summarize the symptoms I experienced with the PiKVM and TESmart KVM and how I was able to fix these issues.</p><h2 id="my-experience"><span class="me-2">My Experience</span><a href="#my-experience" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>When I originally set up my PiKVM (v3 at the time) I wanted to remote control more than one machine. I have a server rack and I rationalized that 8 would be a good number of machines to remote control and ultimately justify the cost of the hardware (cost spread over 8 machines). I also wanted something to rackmount since, after all, I have a server rack. That’s when I found the <a href="https://amzn.to/425zhqs">TESmart 8X1 HDMI KVM Switch 8</a> (affiliate link).</p><p>It met all of my requirements:</p><ul><li>8 ports<li>Rackmountable<li>Compatible with PiKVM (or so I thought)</ul><p>This device was <a href="https://docs.pikvm.org/multiport/#list-of-tested-kvms">listed as compatible with PiKVM</a> so I thought it was a safe bet.</p><p>I have (3) Intel NUC 11th Gen device I planned on connecting to this switch along with an old PC that has a ASUS Z87-PRO motherboard. I figured since they were all Intel based GPUs it was a safe bet. Boy was I wrong…</p><p>Shortly after configuring the PiKVM with the TESmart KVM and my devices it was clear that something was definitely wrong.</p><p><a href="/assets/img/posts/pikvm-v4-tesmart-4.gif" class="popup img-link blur"><img data-src="/assets/img/posts/pikvm-v4-tesmart-4.gif" alt="PiKVM Issues with TESmart" data-lqip="true" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAgACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APsv4Y/GH4E/Cbw/pPh7w98C/iXL4Y0mzuLXxVHon7Ot5eSt4iSC1igutLhbVLBfEWnXskPiZv7btnjOmR3OliOJjd24h8Gi8DhVThSwVOnT9nJVPZYaK998ji0oqN4y/eXt1tfdMKi9s5zqSVSo2mpVE5SbfM5SlJt32hpdN66vS3yB4z/Z28Za94w8V65o2talBo+s+Jdd1XSYLnxf4j0u5h03UdUuryxiuNM0/wASCw06eO1miSWxsQLO0kDW9sBDGld3PgHq6Wr1d42169DypYXE80uWUeXmdvh2vp07H//Z"></a> <em>As you can see, 1 out of 3 devices work. All 3 are the same model. Usually none of them work even after properly training them.</em></p><p>Some of the symptoms were:</p><ul><li>Black screen without any video<li>When switching machines, you see video but quickly goes to black<li>When switching to some devices, you see a green screen<li>While getting a green screen, the CPU spikes on the PiKVM to where you have to reboot</ul><h2 id="things-i-tried"><span class="me-2">Things I tried</span><a href="#things-i-tried" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I knew this was not good, however I figured it was something that could be fixed in software, after all the PiKVM is <a href="https://github.com/pikvm/pikvm">open source and running Linux</a>. I did the obvious first, which was <a href="https://www.youtube.com/watch?v=w56QCshaiNQ&amp;t=1001s">training the PiKVM and the TESmart switch</a> according to TESmart’s YouTube video (which is excellent by the way). This kind of helped and by kind of I mean that 1 device would <strong>sometimes</strong> work but then after adding additional devices it would start experiencing the same symptoms as above. So I thought I could fix it in software…</p><p>I tried updating the device, testing different <a href="https://docs.pikvm.org/edid/">EDIDs</a>,and even working with the creator of the PiKVM, <a href="https://github.com/mdevaev">Max Devaev</a>, to see if we could tweak any settings to make it work with the TESmart KVM. After capturing logs and EDIDs, Max determined that the EDID was getting “poisoned” with some other EDID when switching. So we decided that it was a hardware issue. I ended up purchasing an <a href="https://amzn.to/3IyiIv1">EZCOO switch</a> (affiliate link) which ended up working perfectly, albeit not rackmountable.</p><p>I reached out to TESmart around the same time to see if maybe it was something they had experience in the past, or something that might be addressed in a firmware update. They were great to work with (huge shout out to Ray from TESmart!) and walked me though some additional troubleshooting steps. Each step still yielded the same results. When we exhausted everything we could try, they sent a replacement to see if that might resolve the issue, but sadly it did not.</p><h2 id="pikvm-v4-and-more"><span class="me-2">PiKVM v4 and More</span><a href="#pikvm-v4-and-more" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>All of this troubleshooting was done on the PiKVM v3, which I had purchased pretty late in its lifecycle, and v4 was right around the corner. Max from PiKVM said that he felt the issue could be resolved in their v4 model and mentioned he would send one when it launched. I was hopeful that this work. A few months later, the <a href="https://pikvm.org/">PiKVM v4 Plus</a> arrived on my doorstep.</p><p><a href="/assets/img/posts/pikvm-v4-tesmart-1.webp" class="popup img-link blur"><img data-src="/assets/img/posts/pikvm-v4-tesmart-1.webp" alt="PiKVM v4" data-lqip="true" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAgACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APsv4Y/GH4E/Cbw/pPh7w98C/iXL4Y0mzuLXxVHon7Ot5eSt4iSC1igutLhbVLBfEWnXskPiZv7btnjOmR3OliOJjd24h8Gi8DhVThSwVOnT9nJVPZYaK998ji0oqN4y/eXt1tfdMKi9s5zqSVSo2mpVE5SbfM5SlJt32hpdN66vS3yB4z/Z28Za94w8V65o2talBo+s+Jdd1XSYLnxf4j0u5h03UdUuryxiuNM0/wASCw06eO1miSWxsQLO0kDW9sBDGld3PgHq6Wr1d42169DypYXE80uWUeXmdvh2vp07H//Z"></a> <em>PiKVM v4 Plus &amp; PiKVM v4 Mini</em></p><p>After receiving the PiKVM v4 and hooking it up to the TESmart switch I found that I had the same issue as before. This told me it was most likely something with the TESmart switch. I reached out to them again after discovering that I had the 4k 30 fps model and hoped that the 4k 60 fps model would make a difference, after all there were some people who said theirs worked just fine and internet rumors that the 60 fps model worked better.</p><p>I talked to TESmart again and they shipped a replacement, this time the 4k 60 fps model. I quickly hooked it up and once again experienced all of the same symptoms. I was really puzzled as to why this was happening to me when it works fine with other switches and others claimed to use this switch fine.</p><h2 id="community-to-the-rescue"><span class="me-2">Community to the Rescue!</span><a href="#community-to-the-rescue" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>After testing all of this, I was convinced that I would never be able to use my rackmount KVM. I have to admit that I wasn’t that upset that it didn’t work, I was more upset that I didn’t know when to quit. I was frustrated that I sunk over 80 hours of my time trying to fix this when in fact there was no fix. Sometimes you gotta just let go…</p><p>That’s when I got lucky and someone posted a comment on my <a href="/posts/pikvm-at-scale/#links">previous post</a> with something new to try. The comment from <a href="https://github.com/juristoeckli">juristoeckli</a> that mentioned something about an “EDID Emulator”. I had never heard of these before nor was I sure that this was the issue. Then <a href="https://github.com/NateDiTo">NateDiTo</a> also left a comment about how they had used these <a href="https://amzn.to/47MUtCO">EDID emulators</a> (affiliate link) and they worked for them. Finally, I wasn’t alone! Someone else who was experiencing the same thing or at least knew my struggle!</p><p>That’s when I decided to give it a shot. I told myself “If these don’t work, I am giving up!” and I meant it this time (maybe… 😂).</p><p><a href="/assets/img/posts/pikvm-v4-tesmart-2.webp" class="popup img-link blur"><img data-src="/assets/img/posts/pikvm-v4-tesmart-2.webp" alt="EDID Emulator" data-lqip="true" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAgACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APsXw14X/af179q/4cal4I+J/wAOtO/Zov8AwlLo/wATfBPiqxH9taZrdjJqsv2zwtd2cNudSv8AxRBq+lxSjUNRt7XQB4cjkt4L63u7vSNZ48PiJVZOMkk7XXRWXZdX3f6Kyell3v8A5f0v0PojWvCHgW21nVrebRPBU01vqd/DLM2j6Y7SyxXUsckhc6S5YuylixdyxOdzZyewmy7L7kf/2Q=="></a> <em>This little device will override your EDID possibly making it compatible with the device it’s connecting to.</em></p><h2 id="how-i-fixed-it"><span class="me-2">How I fixed it</span><a href="#how-i-fixed-it" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I purchased a cheaper version of the <a href="https://amzn.to/3tQp04Z">EDID emulator</a> (affiliate link) hoping they would work. Also, serendipitously, Ray from TESmart had mentioned an EDID emulator in an email that same night. He mentioned this as a last resort, however in my mind this was my last resort. After the devices arrived, I quickly inserted the emulators into the TESmart and connected my machines to them.</p><p><a href="/assets/img/posts/pikvm-v4-tesmart-3.webp" class="popup img-link blur"><img data-src="/assets/img/posts/pikvm-v4-tesmart-3.webp" alt="EDID Emulator with TESmart" data-lqip="true" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAgACgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APEPGvx81Cz1Gf4n/B/xB4Q+HOtfEWK/8LaVpPiOPVNe1ebVNKs9Q8JzWGleJ18YSeKdMthD4tl0LSdXm1q8ttPS9n1jT9OibT/sFhlGtjVRnhZSrzwcKrxM4QnJUuZezj7WpRg4wnNOEIxlKOnuxVru+c6VCNeNdU6H1h0YU41HGDqeynGVSMIzfNOMWpzk4xdm+Zq9ly+l2/x7/a20y3g02O90IR6fDFYoJP2k/wBo5pAloi26hzbfEJLcuFjG4wIsJOTEqptAzdGi23bd3+x1166/fr3OpOH80vkn/mf/2Q=="></a> <em>I plugged them directly into the TESmart switch and all devices started working immediately!</em></p><p>I retrained the devices per the video, and sure enough after powering the first one one it worked! I could see my machine in the PiKVM without issues! I quickly tempered my expectations because I have been here before. One device would sometimes work fine, but never more than one. Sure enough after training the next 2 devices it worked fine. I could now control all 3 devices from the PiKVM with the TESmart KVM switch. I tested by rebooting the devices and even the PiKVM and everything still works! They now work as reliably as they did with the EZCOO switch.</p><h2 id="so-why-does-this-work"><span class="me-2">So why does this work?</span><a href="#so-why-does-this-work" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>When I think about the solution, it’s challenging to know how and why this is working. As I understand it, EDID emulators are meant to override a device’s EDID, basically telling the connected device which capabilities it supports. You would think that my devices were sending the proper EDID to the TESmart switch, however as I experienced with 4 devices (2 unique), this was not the case.</p><p>Some people have mentioned that this happens more often when running Linux, and I even experienced that myself too. When one of my Intel NUCs was running Windows it seemed to work fine but when running Proxmox (Debian Linux) it seemed to experience these issues. This could be a Windows vs. Linux issue, or it could be chalked up to my other experience where 1 device would work fine but none of the others. I’ve tested quite a bit over the span of a year and it’s challenging to know for sure. Oddly enough, this doesn’t happen to everyone who uses TESmart switches. I do think it’s a combination of TESmart + Device + OS/driver that triggers the problem, because again, it works with my with EZCOO switch. I also have a hunch that these emulators might be instructing the device’s GPU to stay powered on even when a device isn’t plugged into it (just like HDMI dummy plugs), however I don’t know if that’s true. If you know, let me know in the comments below!</p><p>I am considering this “fixed” now even though technically this is a “workaround.” A huge thanks to Max from PiKVM, Ray from TESmart (and the TESmart team), and juristoeckli and NateDiTo in the comments because without all of you I would have given up. Each new idea or additional troubleshooting step motivated me to keep going. I can finally use this switch and recommend it to those who want something rackmountable (with workarounds).</p><h2 id="config"><span class="me-2">Config</span><a href="#config" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here is the configuration I use:</p><p><code class="language-plaintext highlighter-rouge">/etc/kvmd/override.yaml</code></p><div class="language-yaml highlighter-rouge"><div class="code-header"> <span data-label-text="YAML"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
</pre><td class="rouge-code"><pre><span class="c1"># /etc/kvmd/override.yaml.bak.tesmart</span>
<span class="c1">####################################################################</span>
<span class="c1">#                                                                  #</span>
<span class="c1"># Override Pi-KVM system settings. This file uses the YAML syntax. #</span>
<span class="c1">#                                                                  #</span>
<span class="c1">#    https://github.com/pikvm/pikvm/blob/master/pages/config.md    #</span>
<span class="c1">#                                                                  #</span>
<span class="c1"># All overridden parameters will be applied AFTER other configs    #</span>
<span class="c1"># and "!include" directives and BEFORE validation.                 #</span>
<span class="c1"># Not: Sections should be combined under shared keys.              #</span>
<span class="c1">#                                                                  #</span>
<span class="c1">####################################################################</span>

<span class="na">kvmd</span><span class="pi">:</span>
  <span class="na">gpio</span><span class="pi">:</span>
    <span class="na">drivers</span><span class="pi">:</span>
      <span class="na">tes</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">tesmart</span>
        <span class="na">host</span><span class="pi">:</span> <span class="s">192.168.20.63</span>
        <span class="na">port</span><span class="pi">:</span> <span class="m">5000</span>
      <span class="na">wol_server0</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">wol</span>
        <span class="na">mac</span><span class="pi">:</span> <span class="s">1c:69:7a:ad:11:85</span>
      <span class="na">wol_server1</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">wol</span>
        <span class="na">mac</span><span class="pi">:</span> <span class="s">88:ae:dd:05:cf:09</span>
      <span class="na">wol_server2</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">wol</span>
        <span class="na">mac</span><span class="pi">:</span> <span class="s">88:ae:dd:05:c6:3b</span>
      <span class="na">wol_server3</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">wol</span>
        <span class="na">mac</span><span class="pi">:</span> <span class="s">3c:ec:ef:0e:d3:a4</span>
      <span class="na">wol_server3a</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">wol</span>
        <span class="na">mac</span><span class="pi">:</span> <span class="s">3c:ec:ef:0e:d3:a5</span>
      <span class="na">wol_server4</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">wol</span>
        <span class="na">mac</span><span class="pi">:</span> <span class="s">3c:ec:ef:90:c8:0c</span>
      <span class="na">wol_server4a</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">wol</span>
        <span class="na">mac</span><span class="pi">:</span> <span class="s">3c:ec:ef:90:c8:0d</span>
      <span class="na">reboot</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">cmd</span>
        <span class="na">cmd</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">/usr/bin/sudo</span><span class="pi">,</span> <span class="nv">reboot</span><span class="pi">]</span>
      <span class="na">restart_service</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">cmd</span>
        <span class="na">cmd</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">/usr/bin/sudo</span><span class="pi">,</span> <span class="nv">systemctl</span><span class="pi">,</span> <span class="nv">restart</span><span class="pi">,</span> <span class="nv">kvmd</span><span class="pi">]</span>
    <span class="na">scheme</span><span class="pi">:</span>
      <span class="na">ch0_led</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">input</span>
      <span class="na">ch1_led</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">input</span>
      <span class="na">ch2_led</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">input</span>
      <span class="na">ch3_led</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">3</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">input</span>
      <span class="na">ch4_led</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">4</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">input</span>
      <span class="na">pikvm_led</span><span class="pi">:</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">input</span>
      <span class="na">ch0_button</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">ch1_button</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">ch2_button</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">2</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">ch3_button</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">3</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">ch4_button</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">tes</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">4</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">wol_server0</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">wol_server0</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">wol_server1</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">wol_server1</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">wol_server2</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">wol_server2</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">wol_server3</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">wol_server3</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">wol_server3a</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">wol_server3a</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">wol_server4</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">wol_server4</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">wol_server4a</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">wol_server4a</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">reboot_button</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">reboot</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
      <span class="na">restart_service_button</span><span class="pi">:</span>
        <span class="na">driver</span><span class="pi">:</span> <span class="s">restart_service</span>
        <span class="na">pin</span><span class="pi">:</span> <span class="m">0</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">output</span>
        <span class="na">switch</span><span class="pi">:</span> <span class="kc">false</span>
    <span class="na">view</span><span class="pi">:</span>
      <span class="na">table</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="pi">[</span><span class="s2">"</span><span class="s">#NUC1"</span><span class="pi">,</span> <span class="nv">ch0_led</span><span class="pi">,</span> <span class="nv">ch0_button</span><span class="pi">,</span> <span class="s2">"</span><span class="s">wol_server0</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">WoL"</span><span class="pi">]</span>
        <span class="pi">-</span> <span class="pi">[</span><span class="s2">"</span><span class="s">#NUC2"</span><span class="pi">,</span> <span class="nv">ch1_led</span><span class="pi">,</span> <span class="nv">ch1_button</span><span class="pi">,</span> <span class="s2">"</span><span class="s">wol_server1</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">WoL"</span><span class="pi">]</span>
        <span class="pi">-</span> <span class="pi">[</span><span class="s2">"</span><span class="s">#NUC3"</span><span class="pi">,</span> <span class="nv">ch2_led</span><span class="pi">,</span> <span class="nv">ch2_button</span><span class="pi">,</span> <span class="s2">"</span><span class="s">wol_server2</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">WoL"</span><span class="pi">]</span>
        <span class="pi">-</span> <span class="pi">[</span><span class="s2">"</span><span class="s">#HL15"</span><span class="pi">,</span> <span class="nv">ch3_led</span><span class="pi">,</span> <span class="nv">ch3_button</span><span class="pi">,</span> <span class="s2">"</span><span class="s">wol_server3</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">WoL-10g"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">wol_server3a</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">WoL-10g"</span><span class="pi">]</span>
        <span class="pi">-</span> <span class="pi">[</span><span class="s2">"</span><span class="s">#Storinator"</span><span class="pi">,</span> <span class="nv">ch4_led</span><span class="pi">,</span> <span class="nv">ch4_button</span><span class="pi">,</span> <span class="s2">"</span><span class="s">wol_server4</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">WoL-10g"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">wol_server4a</span><span class="nv"> </span><span class="s">|</span><span class="nv"> </span><span class="s">WoL-10g"</span><span class="pi">]</span>
        <span class="pi">-</span> <span class="pi">[</span><span class="s2">"</span><span class="s">#PiKVM"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">pikvm_led|green"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">restart_service_button|confirm|Service"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">reboot_button|confirm|Reboot"</span><span class="pi">]</span>
</pre></table></code></div></div><p>edit <code class="language-plaintext highlighter-rouge">/etc/sudoers.d/99_kvmd</code></p><p>add to the end:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>kvmd <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> NOPASSWD: /usr/bin/reboot
kvmd <span class="nv">ALL</span><span class="o">=(</span>ALL<span class="o">)</span> NOPASSWD: /usr/bin/systemctl
</pre></table></code></div></div><p>Then reboot or restart services.</p><h2 id="where-to-buy"><span class="me-2">Where to Buy</span><a href="#where-to-buy" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here are the items that I used during this project.</p><ul><li>PiKVM - <a href="https://pikvm.org">https://pikvm.org</a><li>TESmart Switch - <a href="https://amzn.to/3YV0Gsi">https://amzn.to/3YV0Gsi</a><li>TESmart Switch (buy direct, usually cheaper) - <a href="https://l.technotim.live/tesmart">https://l.technotim.live/tesmart</a><li>HDMI Cables - <a href="https://amzn.to/3SgJ34g">https://amzn.to/3SgJ34g</a><li>USB B Cables - <a href="https://amzn.to/3Eel0wU">https://amzn.to/3Eel0wU</a><li>EDID emulator (the ones I use) - <a href="https://amzn.to/3tQp04Z">https://amzn.to/3tQp04Z</a><li>EDID emulators (3 pack recommended by the community) - <a href="https://amzn.to/47MUtCO">https://amzn.to/47MUtCO</a><li>VGA to HDMI Adapter (great for connecting VGA devices to a PiKVM) - <a href="https://amzn.to/491uAAo">https://amzn.to/491uAAo</a><li>Intel NUC 11 kit - <a href="https://amzn.to/3vRDAJK">https://amzn.to/3vRDAJK</a></ul><p>(Affiliate links may be included. I may receive a small commission at no cost to you.)</p><h2 id="join-the-conversation"><span class="me-2">Join the conversation</span><a href="#join-the-conversation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><blockquote class="twitter-tweet" data-dnt="true" data-theme="dark"><p lang="en" dir="ltr">All the problems I had with the PiKVM and TESmart KVM switch were fixed with this one cheap little device.<a href="https://t.co/yOGjQTywYy">https://t.co/yOGjQTywYy</a></p>&mdash; Techno Tim (@TechnoTimLive) <a href="https://twitter.com/TechnoTimLive/status/1748480321060733110?ref_src=twsrc%5Etfw">January 19, 2024</a></blockquote><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><h2 id="links"><span class="me-2">Links</span><a href="#links" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>🛍️ Check out the new Merch Shop at <a href="https://l.technotim.live/shop">https://l.technotim.live/shop</a></p><p>⚙️ See all the hardware I recommend at <a href="https://l.technotim.live/gear">https://l.technotim.live/gear</a></p><p>🚀 Don’t forget to check out the <a href="https://l.technotim.live/quick-start">🚀Launchpad repo</a> with all of the quick start source files</p><p>🤝 Support me and <a href="/sponsor">help keep this site ad-free!</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/homelab/">homelab</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/homelab/" class="post-tag no-text-decoration" >homelab</a> <a href="/tags/hardware/" class="post-tag no-text-decoration" >hardware</a> <a href="/tags/pikvm/" class="post-tag no-text-decoration" >pikvm</a> <a href="/tags/tesmart/" class="post-tag no-text-decoration" >tesmart</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=PiKVM%20with%20TESmart%20KVM%20Fixed!%20-%20Techno%20Tim&url=https%3A%2F%2Ftechnotim.live%2Fposts%2Fpikvm-tesmart%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=PiKVM%20with%20TESmart%20KVM%20Fixed!%20-%20Techno%20Tim&u=https%3A%2F%2Ftechnotim.live%2Fposts%2Fpikvm-tesmart%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftechnotim.live%2Fposts%2Fpikvm-tesmart%2F&text=PiKVM%20with%20TESmart%20KVM%20Fixed!%20-%20Techno%20Tim" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftechnotim.live%2Fposts%2Fpikvm-tesmart%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <script defer type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/share-to-mastodon/+esm"></script> <button class="btn text-start" data-bs-toggle="tooltip" data-bs-placement="top" title="Mastodon" aria-label="Mastodon"> <share-to-mastodon class="share-mastodon" message="PiKVM%20with%20TESmart%20KVM%20Fixed!%20-%20Techno%20Tim" url="https%3A%2F%2Ftechnotim.live%2Fposts%2Fpikvm-tesmart%2F"customInstanceList="[{&quot;label&quot;:&quot;mastodon.social&quot;,&quot;link&quot;:&quot;https://mastodon.social/&quot;},{&quot;label&quot;:&quot;mastodon.online&quot;,&quot;link&quot;:&quot;https://mastodon.online/&quot;},{&quot;label&quot;:&quot;fosstodon.org&quot;,&quot;link&quot;:&quot;https://fosstodon.org/&quot;},{&quot;label&quot;:&quot;photog.social&quot;,&quot;link&quot;:&quot;https://photog.social/&quot;}]" > <i class="fa-fw fa-brands fa-mastodon"></i> </share-to-mastodon> </button> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/traefik-3-docker-certificates/">Traefik 3 and FREE Wildcard Certificates with Docker</a><li class="text-truncate lh-lg"> <a href="/posts/traefik-portainer-ssl/">Put Wildcard Certificates and SSL on EVERYTHING</a><li class="text-truncate lh-lg"> <a href="/posts/authelia-traefik/">2 Factor Auth and Single Sign on with Authelia</a><li class="text-truncate lh-lg"> <a href="/posts/grafana-loki/">Meet Grafana LOKI, a Log Aggregation System for Everything</a><li class="text-truncate lh-lg"> <a href="/posts/jekyll-docs-site/">Meet Jekyll - The Static Site Generator</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/homelab/">homelab</a> <a class="post-tag btn btn-outline-primary" href="/tags/hardware/">hardware</a> <a class="post-tag btn btn-outline-primary" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/rancher/">rancher</a> <a class="post-tag btn btn-outline-primary" href="/tags/self-hosted/">self-hosted</a> <a class="post-tag btn btn-outline-primary" href="/tags/proxmox/">proxmox</a> <a class="post-tag btn btn-outline-primary" href="/tags/portainer/">portainer</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/k3s/">k3s</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/pikvm-at-scale/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1676732400" data-df="ll" > Feb 18, 2023 </time><h4 class="pt-0 my-2">Using the Raspberry Pi PiKVM with Multiple Machines</h4><div class="text-muted"><p> If you’re looking to configure the TESmart switch with PiKVM, I finally figured it out and you can read all about it here. What is the PiKVM? If you don’t know what a KVM switch is, it’s a de...</p></div></div></a></article><article class="col"> <a href="/posts/low-power-efficient-server/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1680966000" data-df="ll" > Apr 8, 2023 </time><h4 class="pt-0 my-2">Building a Low Power, All-in-One, Silent Server</h4><div class="text-muted"><p> What if I told you that this little machine is the perfect Proxmox Virtualization server? And what if I told you I crammed an intel core i5, 64 GB of RAM, a 1 TB NVMe SSD, another 1TB SSD all in t...</p></div></div></a></article><article class="col"> <a href="/posts/hl15-review/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1700658000" data-df="ll" > Nov 22, 2023 </time><h4 class="pt-0 my-2">EVERYTHING You Should Know About the HL15</h4><div class="text-muted"><p> The HL15 from 45Drives is here. It brings a lot of unique features and was built and designed with the HomeLab community in mind. In this in-depth review we’ll cover everything you want to know a...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/homepage-dashboard/" class="btn btn-outline-primary" aria-label="Older" ><p>Meet Homepage - Your HomeLab Services Dashboard</p></a> <a href="/posts/truenas-performance-guide/" class="btn btn-outline-primary" aria-label="Newer" ><p>Optimizing TrueNAS for SPEED (and Safety)</p></a></nav><script type="text/javascript"> (function () { const origin = 'https://giscus.app'; const iframe = 'iframe.giscus-frame'; const lightTheme = 'light'; const darkTheme = 'dark_dimmed'; let initTheme = lightTheme; const html = document.documentElement; if ( (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') || (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches) ) { initTheme = darkTheme; } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'timothystewart6/techno-tim.github.io', 'data-repo-id': 'MDEwOlJlcG9zaXRvcnkyNTQ3ODQ3Nzk', 'data-category': 'Comments', 'data-category-id': 'DIC_kwDODy-1C84CSN7z', 'data-mapping': 'pathname', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': 'en', 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusScript = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value) ); document.getElementById('tail-wrapper').appendChild(giscusScript); addEventListener('message', (event) => { if ( event.source === window && event.data && event.data.direction === ModeToggle.ID ) { /* global theme mode changed */ const mode = event.data.message; const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme; const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); })(); </script><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://l.technotim.live/twitter">Techno Tim</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p><a href="/sponsor/">🤝 Help keep this ad-free!</href> &nbsp; &nbsp;<a href="https://l.technotim.live/shop">🛍️ Check out the new merch shop!</href></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/homelab/">homelab</a> <a class="post-tag btn btn-outline-primary" href="/tags/hardware/">hardware</a> <a class="post-tag btn btn-outline-primary" href="/tags/kubernetes/">kubernetes</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">docker</a> <a class="post-tag btn btn-outline-primary" href="/tags/rancher/">rancher</a> <a class="post-tag btn btn-outline-primary" href="/tags/self-hosted/">self-hosted</a> <a class="post-tag btn btn-outline-primary" href="/tags/proxmox/">proxmox</a> <a class="post-tag btn btn-outline-primary" href="/tags/portainer/">portainer</a> <a class="post-tag btn btn-outline-primary" href="/tags/linux/">linux</a> <a class="post-tag btn btn-outline-primary" href="/tags/k3s/">k3s</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
